jQuery(document).ready(function(e){var t=e("#cancel-comment-reply-link"),r=(t.text(),"commentlist");e(document).on("submit","#commentform",function(){return e.ajax({url:ajaxcomment.ajax_url,data:e(this).serialize()+"&action=ajax_comment",type:e(this).attr("method"),beforeSend:function(e){faAjax.createButterbar("提交中....")},error:function(e){faAjax.createButterbar(e.responseText)},success:function(t){e("textarea").each(function(){this.value=""});var o=faAjax,a=o.I("cancel-comment-reply-link"),n=o.I("wp-temp-form-div"),c=o.I(o.respondId);o.I("comment_post_ID").value;"0"!=o.I("comment_parent").value?e("#respond").before('<ol class="children">'+t+"</ol>"):e("."+r).length?"asc"==ajaxcomment.order?e("."+r).append(t):e("."+r).prepend(t):"bottom"==ajaxcomment.formpostion?e("#respond").before('<ol class="'+r+'">'+t+"</ol>"):e("#respond").after('<ol class="'+r+'">'+t+"</ol>"),$("#postcomments").before(e("#respond")),o.createButterbar("提交成功"),a.style.display="none",a.onclick=null,o.I("comment_parent").value="0",n&&c&&(n.parentNode.insertBefore(c,n),n.parentNode.removeChild(n)),$commentID=/id=\"(comment-\d*)\"/g.exec(t)[1],$commentID&&$("html,body").animate({scrollTop:$("#"+$commentID).offset().top},300)}}),!1}),faAjax={I:function(e){return document.getElementById(e)},clearButterbar:function(t){e(".butterBar").length>0&&e(".butterBar").remove()},createButterbar:function(t){this.clearButterbar(),e("body").append('<div class="butterBar"><p class="butterBar-message">'+t+"</p></div>"),setTimeout("jQuery('.butterBar').remove()",3e3)}}});